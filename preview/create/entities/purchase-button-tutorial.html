

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>&lt;no title&gt; &mdash; Vircadia Documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon-256.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Tutorial: Create a Boombox" href="boombox-tutorial.html" />
    <link rel="prev" title="&lt;no title&gt;" href="primitive-painting-set-tutorial.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="https://projectathena.io/">
          

          
            
            <img src="../../_static/vircadia-logo-1880.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search Vircadia Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<p style="margin-bottom: 10px; margin-top: 10px;"><a href="https://apidocs.vircadia.dev">Looking for <strong>API Reference</strong><br />Documentation?</a></p>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../home.html">HOME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../explore.html">EXPLORE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../create.html">CREATE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../script.html">SCRIPT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../host.html">HOST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute.html">CONTRIBUTE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer.html">DEVELOPER</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes.html">RELEASE NOTES</a></li>
<li class="toctree-l1"><a class="reference external" href="https://apidocs.vircadia.dev">API REFERENCE</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Vircadia Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          






















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    You are here: 
      <li><a href="../../index.html"><i class="fa fa-home"></i></a> &raquo;</li>
        
          <li><a href="../../create.html">Create</a> &raquo;</li>
        
          <li><a href="../entities.html">Entities</a> &raquo;</li>
        
          <li><a href="tutorials.html">Entity Tutorials</a> &raquo;</li>
        
      <li>&lt;no title&gt;</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/kasenvr/athena-docs-sphinx/blob/master/docs/source/create/entities/purchase-button-tutorial.md" class="fa fa-github"></a><a href="https://github.com/kasenvr/athena-docs-sphinx/blob/master/docs/source/create/entities/purchase-button-tutorial.md"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p># Tutorial: Create a Purchase Button for Marketplace Sales</p>
<p>If you are selling items on the Marketplace, you can have a space in your domain where users can easily buy your items. This could be done with a display copy of your items, an image of your item, or a purchase button for users to click.</p>
<p><strong>On This Page:</strong></p>
<ul class="simple">
<li><p>[Prerequisites](#prerequisites)</p></li>
<li><p>[Get an Item’s Marketplace ID](#get-an-items-marketplace-id)</p></li>
<li><p>[Write a Purchase Item Script](#write-a-purchase-item-script)</p></li>
<li><p>[Create an Entity to Use as a Button](#create-an-entity-to-use-as-a-button)</p></li>
</ul>
<p>## Prerequisites</p>
<p>Consider getting familiar with the following concepts before starting this tutorial:</p>
<ul class="simple">
<li><p>[Create New Entities](create-entities.html)</p></li>
<li><p>[Change How Entities Look](entity-appearance.html)</p></li>
<li><p>[Define an Entity’s Behavior](entity-behavior.html)</p></li>
<li><p>[Get Started with Scripting](../../script/get-started-with-scripting.html)</p></li>
<li><p>[Client Entity Scripts](../../script/client-entity-scripts.html)</p></li>
<li><p>[Write Your Own Scripts](../../script/write-scripts.html)</p></li>
<li><p>[Purchase Marketplace Items from Script](../../script/transfer-hfc-tutorial.html#purchase-marketplace-items)</p></li>
</ul>
<p>## Get an Item’s Marketplace ID
If you are putting up an item (in your domain) you have on sale in the Marketplace, you need to get the item’s ‘marketplaceID’. This unique identifier can be found when you view your Marketplace item in a browser window.</p>
<dl class="simple">
<dt>&lt;div class=”admonition note”&gt;</dt><dd><p>&lt;p class=”admonition-title”&gt;Note&lt;/p&gt;
&lt;p&gt; This tutorial lets you link to any item in the Marketplace, even those you don’t own. If you link to another user’s item, keep in mind that they will receive the proceeds from the sale.&lt;/p&gt;</p>
</dd>
</dl>
<p>&lt;/div&gt;</p>
<ol class="arabic simple">
<li><p>In your browser of choice, navigate to [www.highfidelity.com/marketplace](<a class="reference external" href="https://www.highfidelity.com/marketplace">https://www.highfidelity.com/marketplace</a>).</p></li>
<li><p>Locate the item.</p></li>
<li><p>Copy the multi-number identifier at the end of the URL in the address bar of your browser. This is your item’s ‘marketplaceID’.</p></li>
</ol>
<p>## Write a Purchase Item Script</p>
<p>To make our button work and actually sell an item, we need to attach a client entity script to it. In this example, [buy-item.js](<a class="reference external" href="https://hifi-scripting-101.glitch.me/entity-client-script-buy-item.js">https://hifi-scripting-101.glitch.me/entity-client-script-buy-item.js</a>), the script opens a specified Marketplace page. You can use it as-is, modify it, or [write your own script](../../script/write-scripts.html) to suit your needs.</p>
<p>The buy-item.js script we’ve used:
+ Uses High Fidelity’s [JavaScript API](<a class="reference external" href="https://apidocs.vircadia.dev/">https://apidocs.vircadia.dev/</a>) to determine when a user clicks with the mouse or triggers the entity using hand controllers.
+ Opens the user’s Tablet to the purchase page if there is a valid ‘marketplaceID’ specified in the ‘userdata’ field of the entity that is clicked or triggered.</p>
<p>## Create an Entity to Use as a Button</p>
<p>The entity you create for your button has to be [triggerable](entity-behavior.html#set-an-entity-to-trigger-scripts) so that the script can detect when you trigger or push the button with your hand controllers.</p>
<ol class="arabic simple">
<li><p>In Interface, pull up your HUD or Tablet and go to <strong>Create</strong>.</p></li>
<li><p>[Create an entity](create-entities.html) to be used as a button. This can be a 3D model, cube, or sphere entity.</p></li>
<li><p>Go to the ‘Properties’ tab and scroll down to ‘Behavior’.</p></li>
<li><dl class="simple">
<dt>Select ‘Code’ from the drop down menu in the ‘User Data’ property. Add the following line, replacing ‘YOUR_MARKETPLACE_ID_HERE’ with the ‘marketplaceID’ that you copied in the first step of the tutorial:</dt><dd><p><code class="docutils literal notranslate"><span class="pre">`JSON</span>
<span class="pre">{'marketplaceID'</span> <span class="pre">:</span> <span class="pre">'YOUR_MARKETPLACEID_HERE'}</span>
<span class="pre">`</span></code></p>
</dd>
</dl>
</li>
</ol>
<p>5. Next to ‘Script’, paste the script URL. In this case, it is ‘[buy-item.js](<a class="reference external" href="https://hifi-scripting-101.glitch.me/entity-client-script-buy-item.js">https://hifi-scripting-101.glitch.me/entity-client-script-buy-item.js</a>)’.
5. Scroll down to ‘Triggerable’ and ensure that ‘Triggerable’ is selected.
6. When you close the <strong>Create</strong> app, test your script by clicking or triggering the button to  open the item’s purchase page. If a user has already purchased the item, they will be shown a page that allows them to re-purchase another copy or view it in their <strong>Inventory</strong>.</p>
<p><strong>See Also</strong></p>
<ul class="simple">
<li><p>[Create New Entities](create-entities.html)</p></li>
<li><p>[Change How Entities Look](entity-appearance.html)</p></li>
<li><p>[Define an Entity’s Behavior](entity-behavior.html)</p></li>
<li><p>[Get Started with Scripting](../../script/get-started-with-scripting.html)</p></li>
<li><p>[Client Entity Scripts](../../script/client-entity-scripts.html)</p></li>
<li><p>[Write Your Own Scripts](../../script/write-scripts.html)</p></li>
<li><p>[Interact with Your Environment](../../explore/interact.html)</p></li>
</ul>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="boombox-tutorial.html" class="btn btn-neutral float-right" title="Tutorial: Create a Boombox" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="primitive-painting-set-tutorial.html" class="btn btn-neutral float-left" title="&lt;no title&gt;" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, High Fidelity. © Copyright 2020, Vircadia.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  

   

</body>
</html>