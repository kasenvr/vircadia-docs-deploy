

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>&lt;no title&gt; &mdash; Vircadia Documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon-256.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="});" href="transfer-hfc-tutorial.html" />
    <link rel="prev" title="&lt;no title&gt;" href="client-entity-scripts.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="https://projectathena.io/">
          

          
            
            <img src="../_static/vircadia-logo-1880.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search Vircadia Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<p style="margin-bottom: 10px; margin-top: 10px;"><a href="https://apidocs.vircadia.dev">Looking for <strong>API Reference</strong><br />Documentation?</a></p>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../home.html">HOME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explore.html">EXPLORE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../create.html">CREATE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../script.html">SCRIPT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../host.html">HOST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">CONTRIBUTE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer.html">DEVELOPER</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-notes.html">RELEASE NOTES</a></li>
<li class="toctree-l1"><a class="reference external" href="https://apidocs.vircadia.dev">API REFERENCE</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Vircadia Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          






















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    You are here: 
      <li><a href="../index.html"><i class="fa fa-home"></i></a> &raquo;</li>
        
          <li><a href="../script.html">Script</a> &raquo;</li>
        
      <li>&lt;no title&gt;</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/kasenvr/athena-docs-sphinx/blob/master/docs/source/script/server-entity-scripts.md" class="fa fa-github"></a><a href="https://github.com/kasenvr/athena-docs-sphinx/blob/master/docs/source/script/server-entity-scripts.md"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p># Server Entity Scripts</p>
<p>You can make content in High Fidelity interactive by attaching scripts to entities. <em>Server entity scripts</em> are entity scripts that run on the server (or domain) that hosts the entity. These scripts run persistently in a domain, even if there are no users present. This means that there is only one instance of the script is running at a time, and it is running on the server. Any behavior that is controlled by your script will be seen and heard by everyone in the domain.</p>
<p><strong>On This Page</strong>
* [Attach a Server Entity Script to an Entity](#attach-a-server-entity-script-to-an-entity)
* [Example of a Server Entity Script](#example-of-a-server-entity-script)
* [Script API](#script-api)</p>
<p>## Attach a Server Entity Script to an Entity
To attach a server entity script to an entity:
1. In Interface, pull up your tablet or HUD and go to <strong>Create</strong>.
2. Select the entity you’d like to script by either clicking on it in Interface or finding it in the ‘Entity List’.
3. In the <strong>Create</strong> app, go to the ‘Properties’ tab and scroll down to the ‘Behavior’ section.
4. For ‘Server Script’, enter the URL to your server entity script.</p>
<dl class="simple">
<dt>&lt;div class=”admonition note”&gt;</dt><dd><p>&lt;p class=”admonition-title”&gt;Note&lt;/p&gt;
&lt;p&gt;An entity can have multiple server entity scripts attached to it, but all of these must be through a single file URL. &lt;/p&gt;</p>
</dd>
</dl>
<p>&lt;/div&gt;</p>
<p>## Example of a Server Entity Script
The following script modifies the intensity of a light entity, so that it flickers tea lights.</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a><a href="#id3"><span class="problematic" id="id4">`</span></a>javascript
(function() {</p>
<blockquote>
<div><p>var MINIMUM_LIGHT_INTENSITY = 100.0;
var MAXIMUM_LIGHT_INTENSITY = 125.0;</p>
<p>// Return a random number between <cite>low</cite> (inclusive) and <cite>high</cite> (exclusive)
function randFloat(low, high) {</p>
<blockquote>
<div><p>return low + Math.random() * (high - low);</p>
</div></blockquote>
<p>}</p>
<p>var self = this;
this.preload = function(entityID) {</p>
<blockquote>
<div><dl>
<dt>self.intervalID = Script.setInterval(function() {</dt><dd><dl class="simple">
<dt>Entities.editEntity(entityID, {</dt><dd><p>intensity: randFloat(MINIMUM_LIGHT_INTENSITY, MAXIMUM_LIGHT_INTENSITY)</p>
</dd>
</dl>
<p>});</p>
</dd>
</dl>
<p>}, 100);</p>
</div></blockquote>
<p>};
this.unload = function() {</p>
<blockquote>
<div><p>Script.clearInterval(self.intervalID);</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>});</p>
<p><a href="#id5"><span class="problematic" id="id6">``</span></a>`
This script is a good example of a server entity script because it only needs one actor to update the intensity of the light. The same script could be attached as an entity client script, but all clients who could see the tea light would be editing the entity to vary the intensity of the light to flicker it.</p>
<p>## Script API</p>
<p>The Entity Script Server does not have access to all of the listed components of the API. APIs for avatars, controllers, recording, overlays, and mouse and keyboard events are not available in the Entity Script Server.</p>
<p>Learn more about what APIs are available to server entity scripts [here](<a class="reference external" href="https://apidocs.vircadia.dev/Entities.html">https://apidocs.vircadia.dev/Entities.html</a>).</p>
<p><strong>See Also</strong></p>
<ul class="simple">
<li><p>[Get Started with Scripting](get-started-with-scripting.html)</p></li>
<li><p>[Write Your Own Scripts](write-scripts.html)</p></li>
<li><p>[API Reference](<a class="reference external" href="https://apidocs.vircadia.dev">https://apidocs.vircadia.dev</a>)</p></li>
</ul>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="transfer-hfc-tutorial.html" class="btn btn-neutral float-right" title="});" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="client-entity-scripts.html" class="btn btn-neutral float-left" title="&lt;no title&gt;" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, High Fidelity. © Copyright 2020, Vircadia.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  

   

</body>
</html>